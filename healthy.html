<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¥åº·è¥å…»éšæœºç‚¹é¤ç³»ç»Ÿ</title>
    <style>
        /* ç½‘é¡µ1æ ·å¼æ”¹è‰¯ + æ–°å¢è¥å…»é¢æ¿ */
        body {
            font-family: "å¾®è½¯é›…é»‘", sans-serif;
            background: #f5f7fa;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .user-panel {
            background: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .roulette-section {
            text-align: center;
            margin: 40px 0;
        }
        #roulette {
            width: 300px;
            height: 300px;
            border: 3px solid #4CAF50;
            border-radius: 50%;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            background: #fff;
        }
        .nutrition-panel {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 30px;
        }
        .nutrition-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        button {
            background: #4CAF50;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 25px;
            transition: all 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ç”¨æˆ·ä¿¡æ¯é¢æ¿ ç½‘é¡µ3å•†å®¶ç«¯çµæ„Ÿ -->
        <div class="user-panel">
            <h2>ğŸ‘©âš•ï¸ ç”¨æˆ·å¥åº·æ¡£æ¡ˆ</h2>
            <p>BMI: 23.2 | æ—¥éœ€çƒ­é‡: 1300-1500kcal</p>
            <p>æ¨èæ‘„å…¥ï¼šè›‹ç™½è´¨78-94g | è†³é£Ÿçº¤ç»´â‰¥25g</p>
        </div>

        <!-- æ™ºèƒ½è½¬ç›˜åŒº ç½‘é¡µ2åŠ¨ç”»æ”¹è‰¯ -->
        <div class="roulette-section">
            <div id="roulette">ç‚¹å‡»ç”Ÿæˆä»Šæ—¥é¤å•</div>
            <button onclick="generateMeal()">ğŸ¯ ç”Ÿæˆä»Šæ—¥é¤å•</button>
        </div>

        <!-- è¿‡æ•è¿‡æ»¤ ç½‘é¡µ1å¤é€‰æ¡†æ”¹è‰¯ -->
        <div class="filter-section">
            <h3>ğŸš« è¿‡æ•é£Ÿæè¿‡æ»¤</h3>
            <label><input type="checkbox" name="allergy" value="æµ·é²œ"> æµ·é²œ</label>
            <label><input type="checkbox" name="allergy" value="ä¹³åˆ¶å“"> ä¹³åˆ¶å“
            <!-- å…±8ç±»è¿‡æ•æº... -->
        </div>

        <!-- è¥å…»åˆ†æé¢æ¿ -->
        <div class="nutrition-panel">
            <div class="nutrition-card">
                <h4>ğŸ”¥ æ€»çƒ­é‡</h4>
                <p id="total-calories">0 kcal</p>
            </div>
            <div class="nutrition-card">
                <h4>ğŸ¥š è›‹ç™½è´¨</h4>
                <p id="protein">0g</p>
            </div>
            <div class="nutrition-card">
                <h4>ğŸŒ¾ è†³é£Ÿçº¤ç»´</h4>
                <p id="fiber">0g</p>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ®åº“ï¼ˆéœ€è¿æ¥çœŸå®æ•°æ®åº“ï¼‰
        const mealDB = {
            breakfast: [
                { name: "ç‡•éº¦ç²¥+æ°´ç…®è›‹+è“è“", cal: 420, protein: 22, fiber: 6 },
                { name: "å…¨éº¦ä¸‰æ˜æ²»+è±†æµ†", cal: 450, protein: 25, fiber: 5 }
            ],
            lunch: [
                { name: "è—œéº¦é¥­+æ¸…è’¸é²ˆé±¼+è¥¿å…°èŠ±", cal: 500, protein: 35, fiber: 9 },
                { name: "ç³™ç±³é¥­+é¦™ç…é¸¡èƒ¸+æœ¨è€³", cal: 520, protein: 38, fiber: 8 }
            ],
            dinner: [
                { name: "è’¸å—ç“œ+æµ·å¸¦è±†è…æ±¤", cal: 300, protein: 18, fiber: 8 },
                { name: "å±±è¯ç²¥+ç™½ç¼ç§‹è‘µ", cal: 320, protein: 15, fiber: 7 }
            ]
        };

        function generateMeal() {
            // è¿‡æ»¤è¿‡æ•é£Ÿæï¼ˆç½‘é¡µ1é€»è¾‘æ‰©å±•ï¼‰
            const allergies = Array.from(document.querySelectorAll('input[name="allergy"]:checked'))
                                 .map(el => el.value);

            // éšæœºé€‰æ‹©é¤å•ï¼ˆç½‘é¡µ2ç®—æ³•æ”¹è‰¯ï¼‰
            const meal = {
                breakfast: selectMeal('breakfast', allergies),
                lunch: selectMeal('lunch', allergies),
                dinner: selectMeal('dinner', allergies)
            };

            // æ›´æ–°è½¬ç›˜æ˜¾ç¤º
            const roulette = document.getElementById('roulette');
            roulette.innerHTML = `ğŸ³ æ—©é¤ï¼š${meal.breakfast.name}<br>
                                ğŸ¥— åˆé¤ï¼š${meal.lunch.name}<br>
                                ğŸ² æ™šé¤ï¼š${meal.dinner.name}`;

            // æ›´æ–°è¥å…»é¢æ¿ï¼ˆç½‘é¡µ3æ•°æ®åˆ†ææ‰©å±•ï¼‰
            updateNutritionPanel(meal);
        }

        function selectMeal(type, allergies) {
            const available = mealDB[type].filter(meal => 
                !allergies.some(allergy => meal.name.includes(allergy))
            );
            return available[Math.floor(Math.random() * available.length)];
        }

        function updateNutritionPanel(meal) {
            const total = ['cal', 'protein', 'fiber'].map(k => 
                [meal.breakfast, meal.lunch, meal.dinner].reduce((sum, m) => sum + m[k], 0)
            );
            
            document.getElementById('total-calories').textContent = `${total[0]} kcal`;
            document.getElementById('protein').textContent = `${total[1]}g`;
            document.getElementById('fiber').textContent = `${total[2]}g`;
        }
    </script>
</body>
</html>
