<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <title>Runner Pro - ä¸“ä¸šçº§ç§»åŠ¨ç«¯ä»£ç å®æ—¶é¢„è§ˆå™¨</title>
    <meta name="description" content="Runner Pro æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„ç§»åŠ¨ç«¯ HTML/CSS/JS ç¼–è¾‘é¢„è§ˆå·¥å…·ã€‚æ”¯æŒç²˜è´´è¦†ç›–ã€å®æ—¶è¿è¡Œã€åç‰‡å¯¼å‡ºï¼Œé€‚é… iOS/Android æ‰€æœ‰ä¸»æµæµè§ˆå™¨ã€‚">
    <meta name="keywords" content="Runner Pro, ä»£ç é¢„è§ˆ, æ‰‹æœºç¼–è¯‘å™¨, HTMLç¼–è¾‘å™¨, è‰¾å…œå…œå„¿, å¼€å‘è€…å·¥å…·">
    <meta name="author" content="è‰¾å…œå…œå„¿">
    <link rel="canonical" href="https://i3doit.github.io/MyTools/RunCode.html" />
    
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <style>
        :root {
            --primary: #4CAF50;
            --accent: #007acc;
            --warning: #ff9800;
            --bg: #1e1e1e;
            --panel: #252526;
            --text: #d4d4d4;
            --border: #333333;
            --wx-green: #07C160;
        }

        /* åŸºç¡€é‡ç½® */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body { 
            height: 100%; width: 100%; overflow: hidden; 
            background-color: #000; 
            font-family: -apple-system, system-ui, sans-serif; 
        }

        /* å…¼å®¹æ€§å®¹å™¨ï¼šé€‚é… iOS åŠ¨æ€å·¥å…·æ  */
        .app-container {
            display: flex; flex-direction: column;
            height: 100vh; height: 100dvh; 
            background: var(--bg); position: relative;
        }

        /* é¡¶éƒ¨å¯¼èˆªï¼šç²¾ç®€ç‰ˆ */
        header {
            height: 54px; background: var(--panel); border-bottom: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 12px; flex-shrink: 0; z-index: 100;
        }
        .logo { color: #fff; font-size: 15px; font-weight: bold; letter-spacing: 0.5px; }
        .logo i { color: var(--primary); font-style: normal; font-size: 10px; border: 1px solid; padding: 0 3px; border-radius: 3px; margin-left: 5px; vertical-align: middle; }

        .nav-icons { display: flex; gap: 18px; }
        .icon-btn {
            background: none; border: none; cursor: pointer; color: var(--text);
            display: flex; flex-direction: column; align-items: center;
        }
        .icon-btn span { font-size: 18px; line-height: 1.2; }
        .icon-btn label { font-size: 10px; margin-top: 2px; color: #999; cursor: pointer; }

        /* å†…å®¹ä¸»ä½“ */
        main { flex: 1; display: flex; flex-direction: column; overflow: hidden; background: var(--bg); }
        .editor-box { 
            height: 32%; display: flex; border-bottom: 2px solid var(--border); 
            overflow: hidden; position: relative; background: var(--bg);
        }
        .preview-box { height: 68%; background: #fff; position: relative; }
        
        .line-num { width: 34px; padding-top: 10px; color: #555; font-size: 11px; text-align: center; background: rgba(0,0,0,0.3); font-family: monospace; border-right: 1px solid var(--border); }
        textarea { flex: 1; background: transparent; color: #9cdcfe; border: none; padding: 10px; resize: none; outline: none; font-size: 14px; font-family: 'Menlo', monospace; line-height: 1.5; }
        iframe { width: 100%; height: 100%; border: none; display: block; }

        /* ç§»åŠ¨ç«¯æ‚¬æµ®ç¤¼åŒ… */
        .float-gift {
            display: none; position: absolute; right: 20px; bottom: 85px; 
            width: 52px; height: 52px; background: var(--warning); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 15px rgba(255,152,0,0.4); z-index: 500;
            text-decoration: none; font-size: 26px; animation: breathe 2s infinite;
        }
        @keyframes breathe { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* åº•éƒ¨ä¿¡æ¯ï¼šæ·±åº¦å…¼å®¹ä¼˜åŒ– */
        footer {
            background: var(--panel); border-top: 1px solid var(--border);
            padding: 10px 12px calc(10px + env(safe-area-inset-bottom));
            flex-shrink: 0; z-index: 100;
        }
        .pc-ad { display: block; }
        .ad-btn {
            display: block; background: rgba(255,152,0,0.1); border: 1px dashed rgba(255,152,0,0.3);
            border-radius: 8px; padding: 8px; text-align: center; color: var(--warning);
            text-decoration: none; font-size: 12px; font-weight: bold; margin-bottom: 8px;
        }
        .footer-row { display: flex; justify-content: center; align-items: center; gap: 20px; font-size: 12px; color: #888; }
        .footer-row a { color: inherit; text-decoration: none; }
        .wx-pill { 
            display: inline-flex; align-items: center; gap: 5px;
            background: var(--wx-green); color: white; padding: 3px 10px; 
            border-radius: 20px; font-size: 11px; cursor: pointer; font-weight: bold;
        }

        /* å¼¹çª—æ ·å¼ */
        #shareModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.92); z-index: 2000; align-items: center; justify-content: center; }
        .card-container { width: 88%; max-width: 320px; }
        #cardArea { background: #fff; padding: 30px 20px; border-radius: 20px; text-align: center; }
        #cardArea h3 { color: #333; font-size: 22px; margin-bottom: 8px; }
        .qr-wrap { width: 180px; height: 180px; margin: 20px auto; border: 1px solid #f0f0f0; padding: 8px; background: #fff; }
        .modal-btns { margin-top: 20px; display: flex; flex-direction: column; gap: 12px; }
        .btn-save { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 12px; font-weight: bold; font-size: 16px; }
        .btn-close { color: #999; background: none; border: none; font-size: 13px; cursor: pointer; }

        #toast { position: fixed; top: 45%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.85); color: #fff; padding: 12px 25px; border-radius: 30px; font-size: 14px; z-index: 3000; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }

        /* å“åº”å¼é€‚é… */
        @media (max-width: 768px) {
            .pc-ad { display: none; }
            .float-gift { display: flex; }
            .editor-box { height: 28%; }
            .preview-box { height: 72%; }
        }
        @media (min-width: 769px) {
            main { flex-direction: row; }
            .editor-box { height: 100%; width: 40%; border-bottom: none; border-right: 2px solid var(--border); }
            .preview-box { height: 100%; width: 60%; }
        }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <div class="logo">RUNNER <i>PRO</i></div>
        <div class="nav-icons">
            <button class="icon-btn" onclick="smartPaste()"><span>ğŸ“‹</span><label id="l-paste">è¦†ç›–ç²˜è´´</label></button>
            <button class="icon-btn" onclick="openShare()"><span>ğŸ“¤</span><label id="l-share">ç”Ÿæˆåç‰‡</label></button>
            <button class="icon-btn" onclick="toggleLang()"><span>ğŸŒ</span><label id="l-lang">ä¸­æ–‡</label></button>
            <button class="icon-btn" style="color:var(--primary)" onclick="runCode()"><span>â–¶</span><label id="l-run">è¿è¡Œ</label></button>
        </div>
    </header>

    <main>
        <a href="https://t.zsxq.com/yL7L8" class="float-gift">ğŸ</a>
        
        <div class="editor-box">
            <div class="line-num" id="line-nums">1</div>
            <textarea id="editor" spellcheck="false" placeholder="åœ¨æ­¤è¾“å…¥ä»£ç ..."></textarea>
        </div>
        <div class="preview-box">
            <iframe id="preview-frame"></iframe>
        </div>
    </main>

    <footer>
        <div class="pc-ad">
            <a href="https://t.zsxq.com/yL7L8" class="ad-btn" id="ad-text">ğŸ æ¨èï¼šã€ŒAIç¼–ç¨‹åšäº§å“ï¼šå°æµé‡å¤åˆ©å•†ä¸šåŒ–ã€ç‚¹å‡»æŸ¥çœ‹ &gt;</a>
        </div>
        <div class="footer-row">
          <b id="l-author">ä½œè€…</b>:   <a href="https://mp.weixin.qq.com/s/0kX6HpBWRhAf4NhKpmocyA">è‰¾å…œå…œå„¿</a>
            <div class="wx-pill" onclick="copyWx()">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="white" style="vertical-align:middle;margin-right:2px;"><path d="M8.5 13.5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm7 0c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm7.5-3.5c0-4.4-4-8-9-8s-9 3.6-9 8c0 3.9 3.1 7.1 7.3 7.8l-.3 2.7 3-1.5h1c4.4 0 8-3.1 8-7h2zm-12.5 11l-2.5 1.2.3-2.2c-3.5-.8-6-3.4-6-6.5 0-3.9 3.6-7 8-7s8 3.1 8 7-3.6 7-8 7h-.2v.5z"/></svg>
                <span>857023577</span>
            </div>
        </div>
    </footer>
</div>

<div id="shareModal">
    <div class="card-container">
        <div id="cardArea">
            <h3 id="s-title">Runner Pro</h3>
            <p id="s-sub" style="font-size: 14px; color: #666;">å®æ—¶é¢„è§ˆ Â· åç‰‡å¯¼å‡º Â· æç®€å¼€å‘</p>
            <div class="qr-wrap">
                <img id="qrImg" style="width:100%; height:100%;" src="" alt="QR">
            </div>
            <p style="font-size: 11px; color: #aaa;" id="s-hint">æ‰«ç é¢„è§ˆä»£ç ä½œå“</p>
        </div>
        <div class="modal-btns">
            <button class="btn-save" onclick="saveToGallery()" id="l-save">ä¿å­˜åç‰‡åˆ°ç›¸å†Œ</button>
            <button class="btn-close" onclick="closeShare()" id="l-close">è¿”å›ç¼–è¾‘</button>
        </div>
    </div>
</div>

<div id="toast"></div>

<script>
    const editor = document.getElementById('editor');
    const previewFrame = document.getElementById('preview-frame');
    const lineNums = document.getElementById('line-nums');
    const toast = document.getElementById('toast');

    const i18n = {
        'zh': {
            paste:'è¦†ç›–ç²˜è´´', share:'ç”Ÿæˆåç‰‡', run:'è¿è¡Œ', lang:'ä¸­æ–‡', save:'ä¿å­˜åç‰‡åˆ°ç›¸å†Œ', close:'è¿”å›',
            author:'ä½œè€…', ad:'ğŸ æ¨èï¼šã€ŒAIç¼–ç¨‹åšäº§å“ï¼šå°æµé‡å¤åˆ©å•†ä¸šåŒ–ã€ç‚¹å‡»æŸ¥çœ‹ >', stitle:'Runner Pro', hint:'æ‰«ç é¢„è§ˆä»£ç ï¼Œå¼€å¯æ™ºèƒ½å¼€å‘',
            code: `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: system-ui; padding: 25px; line-height: 1.6; color: #333; background: #f9f9f9; }
        .card { background: #fff; padding: 25px; border-radius: 16px; border: 1px solid #eee; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        h2 { color: #4CAF50; margin: 0 0 15px 0; font-size: 22px; }
        .step { margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
        .num { background: #4CAF50; color: white; width: 22px; height: 22px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; }
        .btn-test { display: inline-block; padding: 12px 24px; background: #4CAF50; color: white; border-radius: 10px; text-decoration: none; margin-top: 20px; font-weight: bold; transition: 0.3s; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸš€ Runner Pro ä½¿ç”¨æŒ‡å—</h2>
        <div class="step"><div class="num">1</div><span>åœ¨ä¸Šæ–¹ç¼–è¾‘åŒºè¾“å…¥ HTML ä»£ç </span></div>
        <div class="step"><div class="num">2</div><span>ç‚¹å‡»å³ä¸Šè§’ <b>â–¶ è¿è¡Œ</b> æŸ¥çœ‹æ•ˆæœ</span></div>
        <div class="step"><div class="num">3</div><span>ç‚¹å‡» <b>ğŸ“¤ ç”Ÿæˆåç‰‡</b> ä¸‹è½½åˆ†äº«å›¾</span></div>
        <div class="step"><div class="num">4</div><span>ç‚¹å‡» <b>ğŸ“‹ è¦†ç›–ç²˜è´´</b> å¿«é€Ÿæ›¿æ¢å†…å®¹</span></div>
        <a href="javascript:void(0)" class="btn-test" onclick="alert('è¿è¡Œç¯å¢ƒæ£€æµ‹æ­£å¸¸ï¼')">è¿è¡Œç¯å¢ƒæµ‹è¯•</a>
    </div>
</body>
</html>`
        },
        'en': {
            paste:'Paste Over', share:'Share Card', run:'Run', lang:'English', save:'Save to Album', close:'Back',
            author:'Author', ad:'ğŸ Exclusive: "AI Programming for Products: Commercializing Small Traffic Compound Interest" Click to View >', stitle:'Runner Pro', hint:'Scan to preview my code snippets',
            code: `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: system-ui; padding: 25px; line-height: 1.6; color: #333; background: #f9f9f9; }
        .card { background: #fff; padding: 25px; border-radius: 16px; border: 1px solid #eee; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        h2 { color: #007acc; margin: 0 0 15px 0; font-size: 22px; }
        .btn-test { display: inline-block; padding: 12px 24px; background: #007acc; color: white; border-radius: 10px; text-decoration: none; margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ğŸš€ Runner Pro Quick Start</h2>
        <p>1. <b>Edit:</b> Write HTML in the editor above.</p>
        <p>2. <b>Run:</b> Click <b>â–¶ Run</b> for instant preview.</p>
        <p>3. <b>Share:</b> Click <b>ğŸ“¤ Share</b> to export image.</p>
        <p>4. <b>Paste:</b> Use <b>ğŸ“‹ Paste Over</b> to replace all.</p>
        <a href="javascript:void(0)" class="btn-test" onclick="alert('Environment OK!')">Interaction Test</a>
    </div>
</body>
</html>`
        }
    };

    let curLang = 'zh';

    function init() {
        const saved = localStorage.getItem('runner_pro_v10_code');
        curLang = localStorage.getItem('runner_pro_v10_lang') || 'zh';
        editor.value = saved || i18n[curLang].code;
        updateUI(); runCode(); updateLines();
    }

    function toggleLang() {
        curLang = (curLang === 'zh') ? 'en' : 'zh';
        localStorage.setItem('runner_pro_v10_lang', curLang);
        editor.value = i18n[curLang].code;
        updateUI(); runCode(); updateLines();
        showToast(curLang === 'zh' ? "å·²åˆ‡æ¢è‡³ä¸­æ–‡" : "English Mode");
    }

    function updateUI() {
        const d = i18n[curLang];
        document.getElementById('l-paste').innerText = d.paste;
        document.getElementById('l-share').innerText = d.share;
        document.getElementById('l-run').innerText = d.run;
        document.getElementById('l-lang').innerText = d.lang;
        document.getElementById('l-save').innerText = d.save;
        document.getElementById('l-close').innerText = d.close;
        document.getElementById('l-author').innerText = d.author;
        document.getElementById('ad-text').innerText = d.ad;
        document.getElementById('s-title').innerText = d.stitle;
        document.getElementById('s-hint').innerText = d.hint;
    }

    function runCode() {
        const doc = previewFrame.contentDocument || previewFrame.contentWindow.document;
        doc.open();
        doc.write('<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">');
        doc.write(editor.value);
        doc.close();
    }

    function openShare() {
        const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(window.location.href)}`;
        document.getElementById('qrImg').src = qrUrl;
        document.getElementById('shareModal').style.display = 'flex';
    }

    function closeShare() { document.getElementById('shareModal').style.display = 'none'; }

    function saveToGallery() {
        showToast("æ­£åœ¨å¯¼å‡ºé«˜æ¸…åç‰‡...");
        html2canvas(document.getElementById('cardArea'), { useCORS: true, scale: 2 }).then(canvas => {
            const a = document.createElement('a');
            a.download = 'RunnerPro_Card.png';
            a.href = canvas.toDataURL();
            a.click();
            showToast("å›¾ç‰‡å·²å°è¯•ä¸‹è½½");
        });
    }

    async function smartPaste() {
        try {
            const text = await navigator.clipboard.readText();
            if(text) { 
                editor.value = text; // è¦†ç›–ç²˜è´´ï¼Œæ— éœ€å•ç‹¬æ¸…ç©º
                updateLines(); runCode(); 
                showToast("å·²æˆåŠŸè¦†ç›–æ—§å†…å®¹"); 
            }
        } catch(e) { 
            showToast("æ— æ³•è‡ªåŠ¨è¯»å–å‰ªè´´æ¿ï¼Œè¯·é•¿æŒ‰æ‰‹åŠ¨ç²˜è´´"); 
        }
    }

    function copyWx() {
        const temp = document.createElement('textarea');
        temp.value = '857023577';
        document.body.appendChild(temp);
        temp.select();
        document.execCommand('copy');
        document.body.removeChild(temp);
        showToast("å¾®ä¿¡å·å·²å¤åˆ¶");
    }

    function showToast(m) {
        toast.innerText = m; toast.style.display = 'block';
        setTimeout(() => toast.style.display = 'none', 1800);
    }

    function updateLines() {
        const count = editor.value.split('\n').length;
        let h = ''; for(let i=1; i<=count; i++) h += i + '<br>';
        lineNums.innerHTML = h;
    }

    editor.addEventListener('input', () => {
        updateLines();
        localStorage.setItem('runner_pro_v10_code', editor.value);
    });

    editor.addEventListener('scroll', () => { lineNums.scrollTop = editor.scrollTop; });

    init();
</script>
</body>
</html>
